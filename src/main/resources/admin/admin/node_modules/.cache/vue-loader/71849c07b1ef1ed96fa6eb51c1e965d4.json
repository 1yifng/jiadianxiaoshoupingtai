{"remainingRequest":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\src\\views\\login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\src\\views\\login.vue","mtime":1745084751251},{"path":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1743781066581},{"path":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1743781066696},{"path":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1743781066581},{"path":"C:\\jiadianxiaoshoupingtai\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1743781065439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vIOihqOWNleaVsOaNruWvueixoe+8jOWtmOWCqOeUqOaIt+WQjeWSjOWvhueggQ0KICAgICAgcnVsZXNGb3JtOiB7DQogICAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgICAgcGFzc3dvcmQ6ICIiDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOeZu+W9leaWueazlQ0KICAgIGxvZ2luKCkgew0KICAgICAgLy8g6KGo5Y2V6aqM6K+BIC0g5qOA5p+l55So5oi35ZCN5piv5ZCm5Li656m6DQogICAgICBpZiAoIXRoaXMucnVsZXNGb3JtLnVzZXJuYW1lKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+i+k+WFpeeUqOaIt+WQjSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICAvLyDooajljZXpqozor4EgLSDmo4Dmn6Xlr4bnoIHmmK/lkKbkuLrnqboNCiAgICAgIGlmICghdGhpcy5ydWxlc0Zvcm0ucGFzc3dvcmQpIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+36L6T5YWl5a+G56CBIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCg0KICAgICAgLy8g5Y+R6YCB55m75b2V6K+35rGC5Yiw5ZCO56uvQVBJDQogICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgdXJsOiBgdXNlcnMvbG9naW4/dXNlcm5hbWU9JHt0aGlzLnJ1bGVzRm9ybS51c2VybmFtZX0mcGFzc3dvcmQ9JHt0aGlzLnJ1bGVzRm9ybS5wYXNzd29yZH1gLA0KICAgICAgICBtZXRob2Q6ICJwb3N0Ig0KICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgLy8g6K+35rGC5oiQ5Yqf5ZCO55qE5aSE55CGDQogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgew0KICAgICAgICAgIC8vIOeZu+W9leaIkOWKn++8jOWtmOWCqOeUqOaIt+S/oeaBr+WIsOacrOWcsOWtmOWCqA0KICAgICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCJUb2tlbiIsIGRhdGEudG9rZW4pOyAgICAgICAgICAvLyDlrZjlgqh0b2tlbg0KICAgICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCJ1c2VySWQiLCBkYXRhLnVzZXJJZCk7ICAgICAgIC8vIOWtmOWCqOeUqOaIt0lEDQogICAgICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoInJvbGUiLCAi566h55CG5ZGYIik7ICAgICAgICAgICAgIC8vIOWtmOWCqOeUqOaIt+inkuiJsg0KICAgICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCJzZXNzaW9uVGFibGUiLCAidXNlcnMiKTsgICAgICAvLyDlrZjlgqjkvJror53ooagNCiAgICAgICAgICB0aGlzLiRzdG9yYWdlLnNldCgiYWRtaW5OYW1lIiwgdGhpcy5ydWxlc0Zvcm0udXNlcm5hbWUpOyAvLyDlrZjlgqjnlKjmiLflkI0NCg0KICAgICAgICAgIC8vIOi3s+i9rOWIsOS4u+mhtQ0KICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9pbmRleC8iIH0pOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIC8vIOeZu+W9leWksei0pe+8jOaYvuekuumUmeivr+S/oeaBrw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <!-- 登录页面主容器 -->\r\n  <div class=\"login-container\">\r\n    <!-- 使用Element UI的表单组件 label-position=\"left\"：标签位于文本框左边-->\r\n    <el-form class=\"login-form\" label-position=\"left\">\r\n      <!-- 标题容器 -->\r\n      <div class=\"title-container\">\r\n        <h3 class=\"title\">家电销售平台管理登录</h3>\r\n      </div>\r\n\r\n      <!-- 用户名输入部分 -->\r\n      <el-form-item>\r\n        <!-- 使用flex布局使图标和输入框水平排列 -->\r\n        <div class=\"flex-container\">\r\n          <!-- 用户图标 -->\r\n          <span class=\"svg-container\">\r\n            <svg-icon icon-class=\"user\" />\r\n          </span>\r\n\r\n          <!-- 用户名输入框 -->\r\n          <!--v-model 双向数据绑定,v-model=\"rulesForm.username\"：用户输入的用户名会自动同步到 this.rulesForm.username。-->\r\n          <el-input\r\n              placeholder=\"请输入用户名\"\r\n              v-model=\"rulesForm.username\"\r\n              class=\"custom-input\"/>\r\n        </div>\r\n      </el-form-item>\r\n\r\n      <!-- 密码输入部分 -->\r\n      <el-form-item>\r\n        <div class=\"flex-container\">\r\n          <!-- 密码图标 -->\r\n          <span class=\"svg-container\">\r\n            <svg-icon icon-class=\"password\" />\r\n          </span>\r\n          <!-- 密码输入框 -->\r\n          <!--v-model 双向数据绑定,v-model=\"rulesForm.password\"：用户输入的密码会自动同步到 this.rulesForm.password。-->\r\n          <el-input\r\n              placeholder=\"请输入密码\"\r\n              type=\"password\"\r\n              v-model=\"rulesForm.password\"\r\n              class=\"custom-input\"/>\r\n        </div>\r\n      </el-form-item>\r\n\r\n      <!-- 登录按钮 -->\r\n      <!-- 点击登录按钮后触发login方法，会判断输入的用户名和密码是否为空，若不为空则发送请求给后端，usersController的/login方法\r\n      this.rulesForm.username为v-model=\"rulesForm.username\r\n      this.rulesForm.password为v-model=\"rulesForm.password-->\r\n      <el-form-item>\r\n        <el-button\r\n            type=\"primary\"\r\n            @click=\"login()\"\r\n            class=\"login-btn\">\r\n          登录\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 表单数据对象，存储用户名和密码\r\n      rulesForm: {\r\n        username: \"\",\r\n        password: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    // 登录方法\r\n    login() {\r\n      // 表单验证 - 检查用户名是否为空\r\n      if (!this.rulesForm.username) {\r\n        this.$message.error(\"请输入用户名\");\r\n        return;\r\n      }\r\n      // 表单验证 - 检查密码是否为空\r\n      if (!this.rulesForm.password) {\r\n        this.$message.error(\"请输入密码\");\r\n        return;\r\n      }\r\n\r\n      // 发送登录请求到后端API\r\n      this.$http({\r\n        url: `users/login?username=${this.rulesForm.username}&password=${this.rulesForm.password}`,\r\n        method: \"post\"\r\n      }).then(({ data }) => {\r\n        // 请求成功后的处理\r\n        if (data && data.code === 0) {\r\n          // 登录成功，存储用户信息到本地存储\r\n          this.$storage.set(\"Token\", data.token);          // 存储token\r\n          this.$storage.set(\"userId\", data.userId);       // 存储用户ID\r\n          this.$storage.set(\"role\", \"管理员\");             // 存储用户角色\r\n          this.$storage.set(\"sessionTable\", \"users\");      // 存储会话表\r\n          this.$storage.set(\"adminName\", this.rulesForm.username); // 存储用户名\r\n\r\n          // 跳转到主页\r\n          this.$router.replace({ path: \"/index/\" });\r\n        } else {\r\n          // 登录失败，显示错误信息\r\n          this.$message.error(data.msg);\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 弹性盒子布局，用于水平排列图标和输入框 */\r\n.flex-container {\r\n  display: -webkit-flex;\r\n  display: flex;\r\n}\r\n\r\n/* 登录容器样式 */\r\n.login-container {\r\n  min-height: 100vh;                  /* 最小高度为视口高度 */\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: url(\"../../../../img/img/back-img-bg.jpg\") center/cover no-repeat; /* 背景图片 */\r\n\r\n  /* 登录表单样式 */\r\n  .login-form {\r\n    position: absolute;               /* 绝对定位 */\r\n    top: 50%;                        /* 垂直居中 */\r\n    left: 50%;                       /* 水平居中 */\r\n    transform: translate(-50%, -50%); /* 精确居中 */\r\n    width: 500px;                    /* 表单宽度 */\r\n    height: 300px;                   /* 表单高度 */\r\n    padding: 40px;                   /* 内边距 */\r\n    background: rgba(255, 255, 255, 0.9); /* 半透明白色背景 */\r\n    border-radius: 10px;              /* 圆角 */\r\n    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1); /* 阴影效果 */\r\n  }\r\n\r\n  /* 标题样式 */\r\n  .title {\r\n    text-align: center;              /* 文字居中 */\r\n    color: #333;                     /* 文字颜色 */\r\n    margin-bottom: 30px;             /* 底部外边距 */\r\n  }\r\n\r\n  /* 表单项统一样式 */\r\n  .el-form-item {\r\n    margin-bottom: 25px;             /* 底部外边距 */\r\n  }\r\n\r\n  /* 图标容器样式 */\r\n  .svg-container {\r\n    margin-right: 10px;              /* 右边距 */\r\n    color: #889aa4;                  /* 图标颜色 */\r\n    font-size: 18px;                 /* 图标大小 */\r\n  }\r\n\r\n  /* 登录按钮样式 */\r\n  .login-btn {\r\n    width: 50%;                      /* 宽度为父元素50% */\r\n    height: 40px;                    /* 高度 */\r\n    margin-left: 125px;              /* 左边距 */\r\n    margin-top: 10px;                /* 上边距 */\r\n    font-size: 16px;                 /* 字体大小 */\r\n  }\r\n}\r\n</style>"]}]}